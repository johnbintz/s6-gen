%html
  %head
    %title= @title
    %meta{:name => :author, :content => @author}
    %link#outlineStyle{:rel => :stylesheet, :href => 's6/shared/outline.css', :type => 'text/css', :media => :screen}
    %link#slidePrint{:rel => :stylesheet, :href => 's6/shared/print.css', :type => 'text/css', :media => :print}
    %link#slideProj{:rel => :stylesheet, :href => 's6/shared/slides.css', :type => 'text/css', :media => :projection}
    %link{:rel => :stylesheet, :href => 'style.css', :type => 'text/css', :media => :screen}

    %script{:src => 'jquery/jquery-1.4.2.min.js', :type => 'text/javascript'}
    %script{:src => 'jquery/jquery-ui-1.7.2.effects.min.js', :type => 'text/javascript'}
    %script{:src => 's6/shared/slides.core.js', :type => 'text/javascript'}
    %script{:src => 's6/shared/slides.js', :type => 'text/javascript'}

    :javascript
      function updatePermaLink() {
        $('#plink').get(0).href = window.location.pathname + '#slide' + snum;

        var padding = 20;

        var availableWidth = $(window).width() - padding;
        var availableHeight = $('.presentation > .slide:visible').height() - padding;

        $('.center').each(function() {
          $(this).css('left', (availableWidth - $(this).width()) / 2);
          $(this).css('top', (availableHeight - $(this).height()) / 2);
        });
      }
  %body
    .layout
      .background
      #controls
      #currentSlide
      #header
      #footer
        #title
        #author

    .presentation
      = yield
